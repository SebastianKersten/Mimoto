{%
    embed "MimotoCMS/modules/TabmenuModule/TabmenuModule.twig" with {
        id: 'formdetails',
        tabs: [
            {
                label: 'Fields',
                panel_id: 'panel_formdetail_fields'
            }
        ]
    }
%}
    {% block panels %}

        <!-- structure -->

        <div id="panel_formdetail_fields" class="MimotoCMS_modules_Tabmenu__panel">

            <div class="MimotoCMS_pages_forms_FormDetail_Structure__meta">

                <div class="MimotoCMS_pages_forms_FormDetail_Structure__meta_info">
                    <div class="MimotoCMS_pages_forms_FormDetail_Structure__formname" {{ Mimoto.realtime('name') }}>{{ Mimoto.data('name') }}</div>
                </div>

                <div class="MimotoCMS_pages_forms_FormDetail_Structure__meta_menu">
                    {{ Mimoto.module('Mimoto.CMS.ButtonModule', { label:'Edit', icon:'', onclick:"Mimoto.CMS.formEdit('" ~ Mimoto.meta('id') ~ "');", type:'secondary' }) }}
                </div>

            </div>

            <br>

            <div class="MimotoCMS_pages_entities_EntityDetail__block">

                <div class="MimotoCMS_pages_forms_FormDetail_Structure__fields_empty" {{ Mimoto.showWhenEmpty('fields') }}>
                    <div>This forms has no fields yet.<br>Go ahead, start adding them!</div>
                    <div>{{ Mimoto.module('Mimoto.CMS.ButtonModule', { label:'Add new field', icon:'plus', onclick:"Mimoto.CMS.formFieldNew_TypeSelector('" ~ Mimoto.meta('id') ~ "');" }) }}</div>
                </div>

                <div {{ Mimoto.hideWhenEmpty('fields') }}>
                    <ul class="MimotoCMS_pages_forms_FormDetail_Structure__fields_container js-list js-list-sortable" {{ Mimoto.realtimeWrapper('fields', 'Mimoto.CMS_forms_FormDetail-FormFieldWrapper') }}>
                        {{ Mimoto.renderWrapper('fields', 'Mimoto.CMS_forms_FormDetail-FormFieldWrapper') }}
                    </ul>

                    <div class="MimotoCMS_pages_forms_FormDetail_Structure__fields_menu">
                        {{ Mimoto.module('Mimoto.CMS.ButtonModule', { label:'Add new field', icon:'plus', onclick:"Mimoto.CMS.formFieldNew_TypeSelector('" ~ Mimoto.meta('id') ~ "');" }) }}
                    </div>
                </div>

            </div>

        </div>

    {% endblock %}
{% endembed %}
