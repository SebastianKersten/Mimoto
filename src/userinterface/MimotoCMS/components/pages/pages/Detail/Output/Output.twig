<div class="MimotoCMS_pages_pages_Detail_Output" {{ Mimoto.realtime() }} {{ Mimoto.reloadOnChange() }}>

    <div class="MimotoCMS_pages_pages_Detail_Output-setting">
        <div class="MimotoCMS_pages_pages_Detail_Output-setting-info" {{ Mimoto.showWhenEmpty('component') }}>
            Please select a layout or component
        </div>

        <div {{ Mimoto.hideWhenEmpty('component') }}>

            <span {{ Mimoto.realtime('component.type') }}>{{ Mimoto.data('component.type') }}</span> or component = <span {{ Mimoto.realtime('component.name') }}>{{ Mimoto.data('component.name') }}</span>
        </div>
        <div class="MimotoCMS_pages_pages_Detail_Output-setting-menu">

            {{ Mimoto.module('MimotoCMS_modules_Button', { label:'Select', directive:Mimoto.select('component', '_Mimoto_all_layouts') }) }}
            <div {{ Mimoto.hideWhenEmpty('component') }}>{{ Mimoto.module('MimotoCMS_modules_Button', { label:'Clear', types:['alert'], directive:Mimoto.clear('component') }) }}</div>
        </div>
    </div>

    <div class="MimotoCMS_pages_pages_Detail_Output-setting" {{ Mimoto.hideWhenEmpty('component') }}>

        <div class="MimotoCMS_pages_pages_Detail_Output-setting-info MimotoCMS_pages_pages_Detail_Output-setting-info-empty" {{ Mimoto.showWhenEmpty('selection') }}>
            Optional: Add data ..
        </div>

        <div class="MimotoCMS_pages_pages_Detail_Output-setting-info MimotoCMS_pages_pages_Detail_Output-setting-info-empty" {{ Mimoto.hideWhenEmpty('dataset') }}>
            Data from dataset `{{ Mimoto.data('dataset.name') }}`
        </div>

        <div {{ Mimoto.realtime('selection.name') }} {{ Mimoto.hideWhenEmpty('selection') }}>
            Use data from the selection <a class="MimotoCMS_pages_pages_Detail_Output-setting-info-link" href="/mimoto.cms/selections/{{ Mimoto.meta('selection.id') }}">{{ Mimoto.data('selection.name') }}</a>
        </div>

        <div class="MimotoCMS_pages_pages_Detail_Output-setting-menu">

            {{ Mimoto.module('MimotoCMS_modules_Button', { label:'From existing selection', directive:Mimoto.select('selection', '_Mimoto_all_selections') }) }}
            {{ Mimoto.module('MimotoCMS_modules_Button', { label:'From dataset', directive:Mimoto.select('dataset', '_Mimoto_all_datasets') }) }}
            {#{{ Mimoto.module('MimotoCMS_modules_Button', { label:'From existing dataset', directive:Mimoto.select('selection', '_Mimoto_all_selections') }) }}#}
            {#{{ Mimoto.module('MimotoCMS_modules_Button', { label:'New selection', directive:Mimoto.add('selection', '_Mimoto_selection') }) }}#}

            {{ Mimoto.module('MimotoCMS_modules_Button', { label:'Create instance', directive:Mimoto.add('instance', '') }) }}

            {% if Mimoto.data('isRoot') %}
                {{ Mimoto.module('MimotoCMS_modules_Button', { label:'Add dataset', directive:Mimoto.select('selection', '_Mimoto_all_selections') }) }}
            {% endif %}

            <div {{ Mimoto.hideWhenEmpty('dataset') }}>{{ Mimoto.module('MimotoCMS_modules_Button', { label:'Clear dataset', types:['alert'], directive:Mimoto.clear('dataset') }) }}</div>
            <div {{ Mimoto.hideWhenEmpty('selection') }}>{{ Mimoto.module('MimotoCMS_modules_Button', { label:'Clear selection', types:['alert'], directive:Mimoto.clear('selection') }) }}</div>
        </div>
    </div>

    {#include as module here ...#}

    <div class="MimotoCMS_pages_pages_Detail_Output-containers" {{ Mimoto.hideWhenEmpty('component') }}>

        <div class="MimotoCMS_pages_pages_Detail_Output-containers-header">
            <div class="MimotoCMS_pages_pages_Detail_Output-containers-label">Containers</div>

            <div class="MimotoCMS_pages_pages_Detail_Output-containers-menu">
                {{ Mimoto.module('MimotoCMS_modules_Button', { label:'Add content to container', types:['small', 'secondary'], directive:Mimoto.add('containers', '_Mimoto_output_container') }) }}
            </div>
        </div>

        <div class="MimotoCMS_pages_pages_Detail_Output-containers-containers-empty" {{ Mimoto.showWhenEmpty('containers') }}>
            No containers added yet ..
        </div>

        <div class="MimotoCMS_pages_pages_Detail_Output-containers-containers" {{ Mimoto.realtime('containers', 'MimotoCMS_pages_pages_Detail-Output-container') }} {{ Mimoto.hideWhenEmpty('containers') }}>
            {{ Mimoto.data('containers', 'MimotoCMS_pages_pages_Detail-Output-container') }}
        </div>
    </div>
</div>
