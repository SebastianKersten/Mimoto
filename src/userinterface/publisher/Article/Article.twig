{% extends "publisher/base.twig" %}

{# --- article ---#}

{% block content %}

    <div data-js-article="{{ Mimoto.meta('id') }}">

        <div class="MimotoPublisher_Article-lede-container">

            <div class="MimotoPublisher_Article-lede">

                {% if Mimoto.user.hasRole('contenteditor') %}<button class="MimotoPublisher" style="float:right;" {{ Mimoto.edit('article') }}>Edit</button>{% endif %}

                <span class="MimotoPublisher_Article-articletype" {#{{ Mimoto.hideWhenEmpty('type.label') }}#} {{ Mimoto.realtime('type.label') }}>{{ Mimoto.data('type.label') }}</span>
                <span {{ Mimoto.realtime('lede') }}>{{ Mimoto.data('lede') }}</span>

            </div>
        </div>

        <div class="MimotoPublisher_Article-titlecontainer">
            <div class="MimotoPublisher_Article-titlemenu">
                {% if Mimoto.user.hasRole('contenteditor') %}
                    <span class="MimotoPublisher_Article-titlemenu-button" {{ Mimoto.toggleEditMode('title') }}>
                        <span class="MimotoPublisher_Article-titlemenu-button-edit">edit</span>
                        <span class="MimotoPublisher_Article-titlemenu-button-ok">ok</span>
                    </span>
                {% endif %}
            </div>
            <div class="MimotoPublisher_Article-title" {{ Mimoto.editable('title') }} {{ Mimoto.realtime('title') }}>{{ Mimoto.data('title') }}</div>
        </div>


        <img class="MimotoPublisher_Article-headerImage" src="{{ Mimoto.data('headerImage') }}" {{ Mimoto.realtime('headerImage') }} {{ Mimoto.hideWhenEmpty('headerImage') }} />

        <div class="MimotoPublisher_Article-body" {{ Mimoto.realtime('body') }} {{ Mimoto.collaborate('body') }}>{{ Mimoto.data('body') }}</div>

        {% if Mimoto.user.hasRole('member') %}{{ Mimoto.module('Conversation') }}{% endif %}

    </div>

{% endblock %}


{# --- also on this page --- #}

{% block alsoonthispage %}

    <div {{ Mimoto.channel('', 'Publisher.alsoOnThisPage') }} class="MimotoPublisher_Article-others">
        <div class="MimotoPublisher_Article-others-label">Also on this page</div>
        <div data-publisher-article-others-container class="MimotoPublisher_Article-others-container">

            <div data-publisher-article-others-other-template class="MimotoPublisher_Article-others-other">
                <span data-publisher-article-others-other-initials class="MimotoPublisher_Article-others-other-initials">â˜º</span>
            </div>
        </div>
    </div>

{% endblock %}
